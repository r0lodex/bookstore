<div class="instruction text-center" ng-if="cartItems.length">
    <small class="text-muted">
        Sila semak ambilan anda sebelum membuat pembayaran.
    </small>
</div>

<div class="cart-container">
    <div ng-if="cartItems.length">
        <div class="table-responsive">
            <table class="table table-striped table-sm small">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Tajuk Buku</th>
                        <th class="text-center">Qty</th>
                        <th class="text-right">Harga <span class="hidden-sm-down">RM</span></th>
                        <th class="text-right">Jumlah <span class="hidden-sm-down">RM</span></th>
                        <th>&nbsp;</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="book in cartItems">
                        <td ng-bind="$index + 1"></td>
                        <td>
                            <span ng-bind="book.title"></span>
                            <small class="text-muted">
                                <span ng-bind="book.publisher"></span>,
                                <span ng-bind="book.published_year"></span>
                            </small>
                        </td>
                        <td class="text-center nowrap">
                            <a ng-class="{ disabled: book.qty == 1 }" ng-click="qtymod(book)"><span class="lnr lnr-circle-minus"></span></a>
                            <span ng-bind="book.qty"></span>
                            <a ng-click="qtymod(book, 'add')"><span class="lnr lnr-plus-circle"></span></a>
                            <!-- <select ng-model="book.qty" ng-options="v for v in [1,2,3,4,5]"></select> -->
                        </td>
                        <td class="text-right" ng-bind="book.price | number:2"></td>
                        <td class="text-right" ng-bind="book.price * book.qty | number: 2"></td>
                        <td class="text-center">
                            <a ng-click="removeFromCart(book)" class="text-danger">
                                <span class="lnr lnr-cross"></span>
                            </a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="text-center">
            <small class="text-muted">Jumlah Keseluruhan</small><br>
            <strong>RM<span ng-bind="grandTotal().total | number:2"></span></strong><br><br>
            <small class="text-muted">Metod penerimaan barangan?</small>
            <ul class="list-inline small delivery_method">
                <li>
                    <div class="radio">
                        <label>
                            <input type="radio" name="delivery_method" value="1" checked>
                            Ambil Sendiri
                        </label>
                    </div>
                </li>
                <li>
                    <div class="radio">
                        <label>
                            <input type="radio" name="delivery_method" value="2">
                            Hantar ke Rumah
                        </label>
                    </div>
                </li>
            </ul>
            <a class="btn btn-primary btn-sm" href="#/bayar/confirm">
                Seterusnya <span class="lnr lnr-arrow-right"></span>
            </a>
            <!-- <a class="btn btn-secondary btn-sm">Bayar RM<span ng-bind="grandTotal().total | number:2"></span></a> -->
        </div>
    </div>
    <div class="text-center empty" ng-if="!cartItems.length">
        <h1><span class="lnr lnr-warning"></span></h1>
        <span class="small">
            Anda tidak mempunyai sebarang ambilan.
        </span>
    </div>
</div>